<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="yecol">
        <title>
            百度公益联盟
        </title>
        <link href="./assets/css/form.css" rel="stylesheet" type="text/css">
        <link href="./assets/css/style.css" rel="stylesheet" type="text/css">

        <script src="./assets/js/jquery-1.10.2.min.js"></script>

        <!--[if lt IE 9]>
        <script src="./assets/js/html5shiv.js"></script>
        <script src="./assets/js/respond.min.js"></script>
        <![endif]-->
        <!--[if lt IE 8]>
        <script src="./assets/js/IE9.js"></script>
        <script src="./assets/js/border-box.js"></script>
        <![endif]-->
        <style type="text/css">
        .fixer{
            position:fixed; 
            padding-top: 20px;
            z-index: 700;
            width: 100%;
            _position:absolute;
            _top:expression(documentElement.scrollTop+30 + "px")
        }
        .tip{
            position:absolute;
            top: 20px;
            z-index: 900;
            width: 100%;
            _position:absolute;
            _top:expression(documentElement.scrollTop+30 + "px")
        }      
        </style>
    </head>
    
    <body>
        <div class="fixer">
        <div id="nav">
            <div class="nav-lp">
            <ul>
                <li id="l1"><a href="#top" id="ftop">首页</a></li>
                <li id="l2"><a href="#focus" id="ffocus" class="active">焦点救助</a></li>
                <li id="l3"><a href="#union" id="funion">健康公益联盟</a></li>
            </ul>
            </div>
            <div class="nav-rp">
            <a id="nav-btn" class="req-help"></a>
            </div>
        </div>
        </div>
        <div class="header" id="top">
            <ul>
                <li class="active"><a href="#" class="active">首页</a></li>
                <li><a href="focus.html" >焦点救助</a></li>
                <li><a href="union.html" >联盟公约</a></li>
            </ul>
        </div>

        <div class="section" id="cover">
            <div class="container">
                <div class="title1">
                    <h1>百度健康公益联盟</h1>
                </div>
                <div class="title2">
                    <div class="t2l">
                        <p>百度健康公益联盟是全球最大的医疗公益专业平台</p>
                        <p><span class="cc1">参与的医疗结构最多：</span>国内上万家医疗机构</p>
                        <p><span class="cc2">投入资源最多：</span>十年内投入50亿医疗资源</p>
                        <p><span class="cc3">直接覆盖范围最广：</span>参与的医疗机构覆盖上千个县市</p>
                    </div>
                    <div class="t2r"><p>百度健康公益联盟，是由百度发起并联合国内上万家医疗机构共同搭建的专业医疗公益平台。宗旨是为具有爱心的医疗机构与经济困难且需要社会救助的患者群体牵线搭桥，使这些患者与爱心医疗机构形成一对一的救助关系，进而让缺乏医疗条件但又真正需要医疗救助的弱势群体拥有平等的健康权利。</p></div>
                </div>
                <div class="detail">
                    <span class="left">已有&nbsp;<span class="f24">23</span>&nbsp;个公益组织&nbsp;&nbsp;&nbsp;<span class="f24">53</span>&nbsp;位明星加入成为联盟公益合作方</span>
                    <span class="right"><span class="f24">5229</span>&nbsp;家民营医院&nbsp;&nbsp;&nbsp;已签署<div class="quto1"></div><span class="f36"><a href="union.html">联盟公约</a></span><div class="quto2"></div></span>
                    <div class="next"></div>
                    <hr>
                </div>
                <div class="primary">
                    <a href="#" id="pr-btn" class="req-help"></a>
                </div>
            </div>
        </div>

        <div class="section" id="focus" name="sn2">
            <div class="container">
            <div class="mid-container" id="fmc">
            <div class="title1">焦点救助</div>    
            <div class="frame">
                <div class="image"><a href="focus.html"><img src="./images/pic_1.jpg"></a></div>
                <div class="content">
                    <h3><a href="focus.html">北京市老年疾病救助公益活动</a></h3>
                    <p>主题救助活动描述主题救助活动描述主题救助活动描述主题救助活动描述主题救助活动描述主题救助活动描述描述主题救助活动描述主题救助活动描述主题救</p>
                    <p class="mr20"><span class="s">参与救助机构：</span>中国红十字会，中国红十字会，中国红十字会，中国红十字会，中国红十字会...
                    <p class="mr20"><span class="s">救助医院：</span>回龙观医院</p>
                </div>
                <div class="status">
                    <div class="tag">
                        <a href="focus.html" class="taga">
                        <div class="text">
                        <p>当前进展：<span class="f24">救助中</span></p>
                        <p>已救助：<span class="f24">2,415人</span></p>
                        </div>
                        <div class="next"></div>
                        </a>
                    </div>
                    <!-- TODO:数字序号写在这里，如这里表示激活第3个 -->
                    <div id="cura" class="hide">3</div>

                    <div class="tail">
                    </div>
                    <div class="line">
                        <a class="stage1"></a>
                        <div class="seg"></div>
                        <a class="stage"></a>
                        <div class="seg"></div>
                        <a class="stage"></a>
                        <div class="seg"></div>
                        <a class="stage"></a>
                        <div class="seg"></div>
                    </div>
                    <div class="segtext">
                        <div class="seg-t" id="st1"><p>开始</p><p>2013-10-11</p></div>
                        <div class="seg-t" id="st2"><p>开始</p><p>2013-10-11</p></div>
                        <div class="seg-t" id="st3"><p>开始</p><p>2013-10-11</p></div>
                        <div class="seg-t" id="st4"><p>开始</p><p>2013-10-11</p></div>
                    </div>
                </div>
            </div>
            </div>   
            </div>
        </div>

        <div class="section" id="union" name="sn3">
            <div class="container">
            <div class="mid-container">
            <div class="title1">健康公益联盟<a class="seeall" href="union.html">全部联盟成员</a></div>    
            <div class="face-frame">
                <ul>
                    <!-- line1 -->
                    <li class="face2" id="f1"></li>
                    <li class="face1" id="f2"><img src="./images/face-1.jpg"></img></li>
                    <li class="face1" id="f3"><img src="./images/face-1.jpg"></img></li>
                    <li class="face1" id="f4"><img src="./images/face-1.jpg"></img></li>
                    <li class="facew" id="f5"></li>
                    <!-- line2 -->
                    <li class="face1" id="f6"><img src="./images/face-1.jpg"></img></li>
                    <li class="face2" id="f7"></li>
                    <li class="facew" id="f8"></li>
                    <!-- line3 -->
                    <li class="face2" id="f9"></li>
                    <li class="face1" id="f10"></li>
                    <li class="facew" id="f11"></li>
                    <!-- line4 -->
                    <li class="face1" id="f12"><img src="./images/face-1.jpg"></img></li>
                    <li class="facew" id="f13"></li>
                    <li class="facew" id="f14"></li>
                </ul>
                
            </div>
            </div>   
            </div>
        </div>

        <div class="section" id="footer">
            <p>©2013 Baidu 使用前必读 <a href="baidu.com" target="_blank">百度首页</a></p>
        </div>



        <!-- Modal -->
        <div class="modal fade" id="yModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="myModalLabel">申请救助</h4>
              </div>
              <div class="modal-body">

<form class="form-horizontal" id="help-form" role="form">
    <div class="form-group row">
        <label for="username" class="col-sm-2 control-label"><span class="cred">*</span>姓名:</label>
            <div class="col-xs-4">
                <input type="text" id="username" name="poname" class="form-control form-control-1">
            </div>
        <label for="tel" class="col-sm-2 control-label"><span class="cred">*</span>电话:</label>
            <div class="col-xs-4">
                <input type="text" id="tel" class="form-control form-control-1" name="potel">
            </div>
    </div>
    <div class="form-group row">
        <label for="address" class="col-sm-2 control-label"><span class="cred">*</span>地址:</label>
            <div class="col-xs-3">
                <select class="form-control" id="provjs" name="popro">
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
            </div>
            <div class="col-xs-3">
                <select class="form-control" id="cityjs" name="pocit">
                  <option>请选择</option>
                </select>
            </div>
            <div class="col-xs-4">
                <select class="form-control" id="cotyjs" name="pocty">
                  <option>请选择</option>
                </select>
            </div>
    </div>
    <div class="form-group">
        <label for="detailaddress" class="col-sm-2 control-label">详细地址:</label>
        <div class="col-sm-10">
            <input type="email" class="form-control" id="detailaddress" name="poaddr">
        </div>
    </div>
    <div class="form-group">
        <label for="desc" class="col-sm-2 control-label"><span class="cred">*</span>病情描述:</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="3" name="podesc"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label for="other" class="col-sm-2 control-label">备注:</label>
        <div class="col-sm-10">
            <textarea class="form-control" rows="3" name="pops"></textarea>
        </div>
    </div>

  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
        <label>带<span class="cred">*</span>为必填项</label>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-8 pull-center">
      <button type="submit" class="send-help"></button>
    </div>
  </div>
</form>

              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->

<div class="tip"></div>

        
        <script src="./assets/js/bootstrap.min.js"></script>
        <script>
        $fposito = 0;
        $temph = 0;
        $pt = 0;
        $(document).ready(function() {
            /* resize section */
            $vsbheight = $(window).height();
            if($vsbheight>$("#focus").height()){
                $("#focus").height($vsbheight);
                $pt = ($("#focus").height()-494)/2
                $("#focus .container").css({"padding-top":$pt,"padding-bottom":$pt,"background-position":"70px "+parseInt($pt+10,0)+"px"});
                $temph=$pt+10;
            }
            /* scroll */
            $("#nav ul a").click(function(e) {
                var sel = $(this).attr("href");
                $('html,body').animate({scrollTop: $(sel).offset().top}, 500);
                e.preventDefault();
            });
            /*slide*/
            $cura = parseInt($("#cura").html(),10)-1;
            $taila=[6,78,152,225];
            {   
                $(".stage").each(function(i){
                    if(i==$cura-1){
                        $(this).addClass('active');
                    }else if(i>$cura-1){
                        $(this).addClass('unactive');
                    }
                    i++;
                });
                $(".seg").each(function(j){
                    if(j+1>$cura){
                        $(this).addClass('unactive');
                    }else{
                        $(this).removeClass('unactive');
                    }
                    j++;
                });
                $(".seg-t").each(function(k){
                    if(k!=$cura){
                        $(this).hide();
                    }else{
                        $(this).show();
                    }
                    k++;
                });
                $(".tail").css("background-position",$taila[$cura]+"px 0px");
                if($cura==0){
                    $(".stage1").addClass('active');
                }
            }
            /*slide hover||click*/
            $(".stage,.stage1").hover(function() {
                if($cura==0)return;
                if($(this).hasClass('unactive'))return;
                $(".tail").css("background-position",$taila[$(this).index()/2]+"px 0px");
                //$(this).addClass('active');
                //$(this).siblings('.active').removeClass('active');
                $index_2=$(this).index()/2;
                $(".seg-t").each(function(k){
                    if(k!=$index_2){
                        $(this).hide();
                    }else{
                        $(this).show();
                    }
                    k++;
                });
            }
            /*
            ,function(){
                if($cura==0)return;
                $(".tail").css("background-position-x",$taila[$cura]);
                $(this).removeClass('active');
                $(".stage").eq($cura-1).addClass('active');
            }
            */
            );
            /*省市县的获取*/
            $prourl="pros.json";//TODO 网址
            $citurl="city.json";
            $ctyurl="country.json";
            $.getJSON( $prourl, function(response){
                $options = 0;
                $.each(response.data, function( key, val ) {
                    $options+=( "<option value='" + key + "'>" + val + "</option>" );
                });
                $("#provjs").html($options);
            });

            $("#provjs").change(function(){
                //修改文字
                $.getJSON( $citurl, function(response){
                    $options = 0;
                    $.each(response.data, function( key, val ) {
                        $options+=( "<option value='" + key + "'>" + val + "</option>" );
                    });
                    $("#cityjs").html($options);
                });
                $("#detailaddress").val($("#provjs option:selected").html());
                $("#cotyjs").html("<option>请选择</option>");
            });

            $("#cityjs").change(function(){
                //修改文字
                $.getJSON( $ctyurl, function(response){
                    $options = 0;
                    $.each(response.data, function( key, val ) {
                        $options+=( "<option value='" + key + "'>" + val + "</option>" );
                    });
                    $("#cotyjs").html($options);
                });
                $("#detailaddress").val($("#provjs option:selected").html()+$("#cityjs option:selected").html());
            });

            $("#cotyjs").change(function(){
                $("#detailaddress").val($("#provjs option:selected").html()+$("#cityjs option:selected").html()+$("#cotyjs option:selected").html()); 
            })


            /*表单数据传输和处理*/
            /* open form*/
            $(".req-help").click(function(e) {
                /* Act on the event */
                $('#yModal').modal()
                e.preventDefault();
            });

            $(".send-help").click(function(e) {
                e.preventDefault();
                $("#yModal").modal('hide');
                //发送数据
                $.ajax({
                    type:"POST",
                    url: "http://baidu.com",//TODO:修改网址
                    data: $("#help-form").serialize(),
                    success: function(data){              
                        if (data) {//TODO:如果成功,返回的data是怎样
                            $(".tip").css("top",$(window).scrollTop()+$(window).height()/2).show();
                            setTimeout(function(){
                                $('.tip').hide();
                            }, 2000);
                        };
                    }
                });        
            });

        });
        $(window).resize(function(event) {
            /* resize section */
            $vsbheight = $(window).height();
            if($vsbheight>$("#focus").height()){
                $("#focus").height($vsbheight);
                $pt = ($("#focus").height()-494)/2
                $("#focus .container").css({"padding-top":$pt,"padding-bottom":$pt,"background-position":"70px "+parseInt($pt+10,0)+"px"});
                $temph=$pt+10;
            }
            $('.fixer').css('padding-left',($('#fmc').offset().left+475)); 
        });
        $(window).scroll(function(){
            var h_num=$(window).scrollTop();
            
            if(h_num>=$("#focus").offset().top+$pt-60){
                //alert($temph);
                $num=parseInt(h_num-($("#focus").offset().top)-$pt+30,10)+parseInt($temph, 10);
                $("#focus .container").css("background-position","70px "+$num +"px");
            }
            if(h_num>=$("#focus").offset().top){
                $('.fixer').css('padding-left',($('#fmc').offset().left+475)); 
                $('#ffocus').addClass('active');
                $('#funion').removeClass('active');
                if (h_num>=$("#union").offset().top) {
                    $('#ffocus').removeClass('active');
                    $('#funion').addClass('active');
                };
                $('.fixer').show();
                $('#nav').show(); 
            }else{ 
                $('.fixer').hide();
                $('#nav').hide();    
            }             
        });  
        </script>
  </body>
</html>